# Сэмплирование тестов

Профилирование больших наборов тестов может занимать очень много времени. Некоторые профилировщики (например, RubyProf или StackProf) могут быть полезны и при запуске на небольшом количестве случайных тестов. Однако существующие фреймворки, RSpec и Minitest, не предоставляют возможности запускать фиксированное число случайных тестов. Поэтому мы добавили в TestProf соответствующие расширения.

## Инструкция

Загрузите патч, соответствующий вашему фреймворкy:

```ruby
# RSpec: добавьте в spec_helper.rb
require "test_prof/recipes/rspec/sample"

# Minitest: добавьте в test_helper.rb
require "test_prof/recipes/minitest/sample"
```

Используйте переменную окружения `SAMPLE` для активации сэмплирования:

```sh
# Запуск 10 случайных тестов
SAMPLE=10 rspec
```

Вы можете также сэмплировать группы тестов, используя переменную `SAMPLE_GROUPS`:

```sh
SAMPLE_GROUPS=10 rspec
```

Обратите внимание, что сэмплирование для RSpec поддерживает встроенные механизмы фильтрации:

```sh
SAMPLE=10 rspec --tag=api
SAMPLE_GROUPS=10 rspec -e api
```
